<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Beauty Studio – Accueil</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="page">

  <!-- HEADER -->
  <header class="header">
    <div class="header-inner">
      <div class="brand">
        <img src="/images/Copilot_20250714_133821.png" alt="Logo" class="brand-logo">
        <div class="brand-name">Beauty Studio</div>
      </div>
      <div class="header-cta">
        <a href="booking.html">Prendre rendez-vous</a>
        <a href="/admin/dashboard" class="admin-btn">Je suis admin</a> </div>
    </div>
  </header>

  <!-- HERO -->
  <main>
    <section class="hero">
      <div>
        <h1 class="hero-title">Ongles & cils d’exception</h1>
        <p class="hero-subtitle">
          La précision, la pureté, l’élégance.
        </p>
        <div class="hero-actions">
          <a href="booking.html" class="btn-primary">Réserver</a>
          <a href="#services" class="btn-ghost">Découvrir</a>
        </div>
      </div>

      <div class="hero-image-wrapper">
        <img src="images/photo1.jpg" alt="Studio" class="hero-image">
        <div class="hero-tag">Rendez-vous sur mesure</div>
      </div>
    </section>

    <!-- SERVICES -->
    <section class="section" id="services">
      <h2 class="section-title">Prestations</h2>

      <div class="services-grid">
        <div class="service-card">
          <img src="images/Copilot_20250616_231053.png" alt="Manucure" class="service-img">
          <div class="service-name">Manucure</div>
          <p class="service-desc">Finitions impeccables, lignes épurées, brillance haute couture.</p>
          <p class="service-price">À partir de 25 €</p>
          <a href="booking.html?service=Manucure">
            <button class="book-button">Réserver</button>
          </a>
        </div>

        <div class="service-card">
          <img src="images/Copilot_20250612_230729.png" alt="Cils" class="service-img">
          <div class="service-name">Extensions de cils</div>
          <p class="service-desc">Un regard couture, subtil et sophistiqué.</p>
          <p class="service-price">À partir de 50 €</p>
          <a href="booking.html?service=Extensions%20de%20cils">
            <button class="book-button">Réserver</button>
          </a>
        </div>

        <div class="service-card">
          <img src="images/Copilot_20250614_115412.png" alt="Pédicure" class="service-img">
          <div class="service-name">Pédicure</div>
          <p class="service-desc">Soin précis, confort absolu, allure raffinée.</p>
          <p class="service-price">À partir de 35 €</p>
          <a href="booking.html?service=Pédicure">
            <button class="book-button">Réserver</button>
          </a>
        </div>
      </div>
    </section>

    <!-- GALERIE -->
    <section class="section">
      <h2 class="section-title">Galerie</h2>

      <div class="carousel-wrapper">
        <div id="carousel">
          <img src="images/photo1.jpg" class="carousel-img" alt="Travail 1">
          <img src="images/photo2.jpg" class="carousel-img" alt="Travail 2">
          <img src="images/photo3.jpg" class="carousel-img" alt="Travail 3">
        </div>

        <button class="carousel-btn left" onclick="slide(-1)">❮</button>
        <button class="carousel-btn right" onclick="slide(1)">❯</button>
      </div>
    </section>

    <!-- AVIS -->
    <section class="section">
      <h2 class="section-title">Avis</h2>
      <div id="avis-container" class="avis-grid"></div>
    </section>

    <!-- FORMULAIRE AVIS -->
    <section class="section">
      <h2 class="section-title">Laisser un avis</h2>

      <form id="review-form" class="review-form">
        <input type="text" name="name" placeholder="Votre prénom" required>
        <select name="note" required>
          <option value="">Note</option>
          <option value="5">★★★★★</option>
          <option value="4">★★★★☆</option>
          <option value="3">★★★☆☆</option>
          <option value="2">★★☆☆☆</option>
          <option value="1">★☆☆☆☆</option>
        </select>
        <textarea name="comment" placeholder="Votre avis..." required></textarea>
        <button type="submit">Envoyer</button>
      </form>

      <p id="review-msg" style="text-align:center; margin-top:10px;"></p>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer">
    © Beauty Studio 
  </footer>

</div>

<!-- SCRIPTS -->
<script>
  // CAROUSEL
  let currentIndex = 0;
  function slide(direction) {
    const carousel = document.getElementById('carousel');
    const total = carousel.children.length;
    currentIndex = (currentIndex + direction + total) % total;
    carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
  }

  // AVIS
  fetch('/api/reviews')
    .then(res => res.json())
    .then(avis => {
      const container = document.getElementById('avis-container');

      if (!avis.length) {
        container.innerHTML = '<p style="color:#777;">Aucun avis pour le moment.</p>';
        return;
      }

      avis.slice().reverse().forEach(a => {
        const card = document.createElement('div');
        card.className = 'avis-card';
        card.innerHTML = `
          <p>“${a.comment}”</p>
          <p class="avis-note">${"★".repeat(Number(a.note) || 0)}</p>
          <p style="text-align:right;">– ${a.name}</p>
        `;
        container.appendChild(card);
      });
    });
</script>

</body>
</html>
